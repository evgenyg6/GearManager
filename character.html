<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <link rel="stylesheet" type="text/css" href="css/hover.css">
    <link rel="stylesheet" type="text/css" href="css/animate.css">
    <script src="http://www.skulpt.org/static/skulpt.min.js" type="text/javascript"></script>
    <script src="http://www.skulpt.org/static/skulpt-stdlib.js" type="text/javascript"></script>
    <link href="https://fonts.googleapis.com/css?family=Titillium+Web:300,300i,400,400i,600,700" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="scripts/move.js"></script>
    <script src="scripts/hove.js"></script>
    <script src="scripts/manifest.js"></script>

    <script>
    $(function(){
      $("#content").load("test.html");
    });
    </script>

    <title>D2 Gear Manager</title>
  </head>
  <body>
    <div id="container">
    <!-- Audio -->
    <audio id="onHover" src="media/sounds/hover.wav"></audio>

    <!-- Top Bar -->
    <img class="background" src="media/images/bg_explore_destiny.jpg" height="100%" width="100%" />
    <div class="nav">
      <img class="glimmer_image" src="media/images/glimmer.png" height="25em" width="25em" />
      <span class="glimmer">99999+</span>
      <img class="shard_image" src="media/images/shard.png" height="25em" width="28em" />
      <span class="shard">238</span>
      <img class="brightdust_image" src="media/images/brightdust.png" height="24em" width="25em" />
      <span class="brightdust">500</span>
    </div>

    <!-- Text -->
    <div class="selectChar">SELECT CHARACTER</div>

    <!-- Characters -->

    <div id="border" class="characterSelect"></div>
    <div id="border2" class="characterSelect2"></div>
    <div id="border2" class="characterSelect2"></div>
    <a><img class="character1" src="media/images/character1.jpg" height="100%" width="20%" /></a>
    <img class="character2" src="media/images/character2.jpg" height="100%" width="20%" />
    <img class="character3" src="media/images/character3.jpg" height="100%" width="20%" />

<div id="output" ></div>

    <!-- Weapons -->
    <div id="subclass" class="subclass moveGear"></div>
    <div id="kinetic" class="kinetic moveGear"></div>
    <div id="energy" class="energy moveGear"></div>
    <div id="power" class="power moveGear"></div>
    <div id="ghost" class="ghost moveGear"></div>

    <!-- Armor -->
    <div id="helmet" class="helmet moveGear"></div>
    <div id="gauntlet" class="gauntlet moveGear"></div>
    <div id="chest" class="chest moveGear"></div>
    <div id="leg" class="leg moveGear"></div>
    <div id="classArmor" class="classArmor moveGear"></div>
    <div id="clanBanner" class="clanBanner moveGear"></div>

    <div id="helmet" class="helmet2 moveGear"></div>
    <div id="helmet" class="helmet3 moveGear"></div>
    <div id="helmet" class="helmet4 moveGear"></div>
  </div>
  </body>

<textarea id="yourcode" style="display:none;">

import pydest
import asyncio

async def main():
    destiny = pydest.Pydest('679daa7ce2064a26a887ae53bae16a61')

    hash_dict = {'DestinyActivityDefinition': 'activityHash',
              'DestinyActivityTypeDefinition': 'activityTypeHash',
              'DestinyClassDefinition': 'classHash',
              'DestinyGenderDefinition': 'genderHash',
              'DestinyRaceDefinition': 'raceHash',
              'DestinyInventoryBucketDefinition': 'bucketHash',
              'DestinyInventoryItemDefinition': 'itemHash',
              'DestinyProgressionDefinition': 'progressionHash',
              'DestinyTalentGridDefinition': 'gridHash',
              'DestinyUnlockFlagDefinition': 'flagHash',
              'DestinyHistoricalStatsDefinition': 'statId',
              'DestinyDirectorBookDefinition': 'bookHash',
              'DestinyStatDefinition': 'statHash',
              'DestinySandboxPerkDefinition': 'perkHash',
              'DestinyDestinationDefinition': 'destinationHash',
              'DestinyPlaceDefinition': 'placeHash',
              'DestinyActivityBundleDefinition': 'bundleHash',
              'DestinyStatGroupDefinition': 'statGroupHash',
              'DestinySpecialEventDefinition': 'eventHash',
              'DestinyFactionDefinition': 'factionHash',
              'DestinyVendorCategoryDefinition': 'categoryHash',
              'DestinyEnemyRaceDefinition': 'raceHash',
              'DestinyScriptedSkullDefinition': 'skullHash',
              'DestinyGrimoireCardDefinition': 'cardId'}

    # Decodes user inventory, 9 equipped items
    activity1 = await destiny.decode_hash(1498876634, 'DestinyInventoryBucketDefinition')
    await destiny.update_manifest()
    activity2 = await destiny.decode_hash(1331482397, 'DestinyInventoryItemDefinition')
    # activity3 = await destiny.decode_hash(2159363321, 'DestinyInventoryItemDefinition')
    # activity4 = await destiny.decode_hash(1644162710, 'DestinyInventoryItemDefinition')
    # activity5 = await destiny.decode_hash(2159363321, 'DestinyInventoryItemDefinition')
    # activity6 = await destiny.decode_hash(1644162710, 'DestinyInventoryItemDefinition')
    # activity7 = await destiny.decode_hash(2159363321, 'DestinyInventoryItemDefinition')
    # activity8 = await destiny.decode_hash(1644162710, 'DestinyInventoryItemDefinition')
    # activity9 = await destiny.decode_hash(1644162710, 'DestinyInventoryItemDefinition')

    # # Decodes user race, class and gender
    # activity10 = await destiny.decode_hash(raceHash, 'DestinyRaceDefinition')
    # activity11 = await destiny.decode_hash(classHash, 'DestinyClassDefinition')
    # activity12 = await destiny.decode_hash(genderHash, 'DestinyGenderDefinition')

    # Prints for testing
    print("Activity Name: {}".format(activity1['displayProperties']['name']))
    print("Description: {}".format(activity1['displayProperties']['description']))
    print("")
    print("Activity Name: {}".format(activity2['displayProperties']['name']))
    print("Description: {}".format(activity2['displayProperties']['description']))
    print("")
    # print("Activity Name: {}".format(activity3['displayProperties']['name']))
    # print("Description: {}".format(activity3['displayProperties']['description']))
    # print("")
    # print("Activity Name: {}".format(activity4['displayProperties']['name']))
    # print("Description: {}".format(activity4['displayProperties']['description']))
    # print("")
    # print("Activity Name: {}".format(activity5['displayProperties']['name']))
    # print("Description: {}".format(activity5['displayProperties']['description']))
    # print("")
    # print("Activity Name: {}".format(activity6['displayProperties']['name']))
    # print("Description: {}".format(activity6['displayProperties']['description']))
    # print("")
    # print("Activity Name: {}".format(activity7['displayProperties']['name']))
    # print("Description: {}".format(activity7['displayProperties']['description']))
    # print("")
    # print("Activity Name: {}".format(activity8['displayProperties']['name']))
    # print("Description: {}".format(activity8['displayProperties']['description']))
    # print("")
    # print("Activity Name: {}".format(activity9['displayProperties']['name']))
    # print("Description: {}".format(activity9['displayProperties']['description']))
    # print("")
    # print("Activity Name: {}".format(activity10['displayProperties']['name']))
    # print("Description: {}".format(activity10['displayProperties']['description']))
    # print("")
    # print("Activity Name: {}".format(activity11['displayProperties']['name']))
    # print("Description: {}".format(activity11['displayProperties']['description']))
    # print("")
    # print("Activity Name: {}".format(activity12['displayProperties']['name']))
    # print("Description: {}".format(activity12['displayProperties']['description']))

    destiny.close()

loop = asyncio.get_event_loop()
loop.run_until_complete(main())
loop.close()

</textarea>
</html>
